import{l as n,a as i,g as s,s as c,u as d}from"./utils-BNP7OC3i.js";import{P as l}from"./ProductData-DIWhLEfz.js";n();class u{constructor(e,a){this.productId=e,this.product={},this.dataSource=a}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=s("so-cart")||[];e.push(this.product),c("so-cart",e),d()}renderProductDetails(){m(this.product)}}function m(t){document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const e=document.getElementById("productImage");e.src=t.Images.PrimaryLarge,e.alt=t.Name;const a=t.FinalPrice<t.SuggestedRetailPrice,r=a?Math.round((t.SuggestedRetailPrice-t.FinalPrice)/t.SuggestedRetailPrice*100):0,o=document.getElementById("productPrice");a?o.innerHTML=`
      <span class="original-price">Original price: $${t.SuggestedRetailPrice.toFixed(2)}</span><br>
      <strong>$${t.FinalPrice.toFixed(2)}</strong>
      <span class="product-card__discount">-${r}% OFF</span>
    `:o.textContent=`$${t.FinalPrice.toFixed(2)}`,document.getElementById("productColor").textContent=t.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}const g=i("product"),P=new l("tents"),h=new u(g,P);h.init();
